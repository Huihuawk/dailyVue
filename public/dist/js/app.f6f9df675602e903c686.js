webpackJsonp([4],{19:function(t,e,a){"use strict";function n(t){var e=new Date(1e3*t);return s(e.getMonth()+1)+"-"+s(e.getDate())+" "+s(e.getHours())+":"+s(e.getMinutes())}Object.defineProperty(e,"__esModule",{value:!0}),e.date=n;var s=function(t){var e=parseInt(t,10);return e<10?"0"+e:e}},20:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),i=n(s),r=a(94),o=n(r),u=a(89),l=n(u);i.default.use(o.default),e.default=new o.default({routes:[{path:"/",name:"Home",component:l.default},{path:"/article",name:"Article",component:function(t){a.e(2).then(function(e){t(a(99))}.bind(null,a)).catch(a.oe)}},{name:"detail",path:"/detail",component:function(t){a.e(0).then(function(e){t(a(44))}.bind(null,a)).catch(a.oe)},meta:{scrollToTop:!0}},{name:"top-detail",path:"/top-detail",component:function(t){a.e(0).then(function(e){t(a(44))}.bind(null,a)).catch(a.oe)},meta:{scrollToTop:!0}},{name:"the-day",path:"/the-day",component:function(t){a.e(1).then(function(e){t(a(100))}.bind(null,a)).catch(a.oe)},meta:{scrollToTop:!0}}]})},21:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),i=n(s),r=a(96),o=n(r),u=a(67),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(u),c=a(9),d=n(c);i.default.use(o.default);var f=new o.default.Store({state:{img:"",loadingDay:!1,date:(new d.default).now(),latest:[],day:[],theday:{},article:{},comments:[]},scrollBehavior:function(t,e,a){if(a)return a;var n={x:0,y:0};return"/"===t.path&&(n.y=+sessionStorage.getItem("scrollTop")||0),n},actions:{FETCH_LATEST:function(t){var e=t.commit;t.state;return l.fetchLatest().then(function(t){var a=t.data;e("SET_LATEST",a)})},FETCH_ARTICLE:function(t,e){var a=t.commit;t.state;return l.fetchArticle(e).then(function(t){var e=t.data;a("SET_ARTICLE",e)})},FETCH_HISTORY:function(t,e){var a=t.commit,n=t.state;if(!n.loadingDay)return n.loadingDay=!0,l.fetchHistory(e).then(function(t){var e=t.data;n.loadingDay=!1,a("SET_HISTORY",e)}).catch(function(){n.loadingDay=!1})},FETCH_COMMENT:function(t,e){var a=t.commit;t.state;return l.fetchComment(e).then(function(t){var e=t.data;a("SET_COMMENT",e)})},FETCH_THEDAY:function(t,e){var a=t.commit;t.state;return l.fetchHistory(e).then(function(t){var e=t.data;a("SET_THEDAY",e)})}},mutations:{SET_LATEST:function(t,e){t.latest=e},SET_ARTICLE:function(t,e){t.article=e},SET_HISTORY:function(t,e){if(e.length){var a={month:(new d.default).monthEN(e[0].dtime)+e[0].dtime.substr(6,2),date:(new d.default).CN(e[0].dtime),data:e};t.day.push(a)}},SET_COMMENT:function(t,e){t.comments=e},SET_THEDAY:function(t,e){if(e.length)t.theday.data=[],t.theday={month:(new d.default).monthEN(e[0].dtime)+e[0].dtime.substr(6,2),date:(new d.default).CN(e[0].dtime),data:e};else{var a=t.route.query.dtime;if(a){var n=new d.default(t.route.query.dtime);t.theday.data=[],t.theday.month=n.monthEN()+a.substr(6,2),t.theday.date=n.CN()}}}}});e.default=f},24:function(t,e,a){a(82);var n=a(2)(a(62),a(91),null,null);t.exports=n.exports},43:function(t,e,a){a(84);var n=a(2)(a(63),a(93),"data-v-6d816971",null);t.exports=n.exports},62:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1);!function(t){t&&t.__esModule}(n);e.default={name:"app",methods:{up:function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},1e3),!1},backToTop:function(){$(window).scroll(function(){$(this).scrollTop()>100?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()})}},mounted:function(){this.backToTop()}}},63:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"history-item",props:["day","view"],computed:{dtime:function(){return this.$route.query.dtime}}}},64:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"latest-item",props:["data"]}},65:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(1),i=(n(s),a(88)),r=n(i),o=a(43),u=n(o),l=a(9),c=n(l),d={fetchLatest:function(t){return t.dispatch("FETCH_LATEST")},fetchHistory:function(t,e){return t.dispatch("FETCH_HISTORY",e)}},f=function(t,e,a){var n,s,i,r=null,o=0;a||(a={});var u=function(){o=!1===a.leading?0:(new Date).getTime(),r=null,i=t.apply(n,s),r||(n=s=null)};return function(){var l=(new Date).getTime();o||!1!==a.leading||(o=l);var c=e-(l-o);return n=this,s=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),o=l,i=t.apply(n,s),r||(n=s=null)):r||!1===a.trailing||(r=setTimeout(u,c)),i}};e.default={name:"home",data:function(){return{histories:{}}},components:{Latest:r.default,History:u.default},preFetch:d.fetchLatest,computed:{now:function(){var t=(new c.default).now();return t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)},latest:function(){for(var t={top:[],latest:[],month:""},e=[],a=this.$store.state.latest,n=0,s=a.length;n<s;n++)a[n].title?a[n].top?t.top.push(a[n]):t.latest.push(a[n]):e.push(a[n]);for(var i=0,r=e.length;i<r;i++)for(var o=0,u=t.latest.length;o<u;o++)e[i].id===t.latest[o].id&&(t.latest[o].comments=e[i].comments,t.latest[o].popularity=e[i].popularity);if(t.latest.length){var l=t.latest[0].dtime;t.month=(new c.default).monthEN(l)+l.substr(6,2)}return t},histories:function(){return this.$store.state.day}},created:function(){var t=this;this.scrollEvent=f(function(e){window.innerHeight+document.body.scrollTop+150>=document.body.offsetHeight&&t.previousDay()},200)},beforeMount:function(){0===this.histories.length&&this.previousDay(),0===this.$store.state.latest.length&&d.fetchLatest(this.$store)},mounted:function(){scrollTo(0,sessionStorage.getItem("scrollTop")),window.addEventListener("scroll",this.scrollEvent)},beforeRouteLeave:function(t,e,a){"detail"!==t.name&&"top-detail"!==t.name||(this.$store.state.article={}),window.removeEventListener("scroll",this.scrollEvent),sessionStorage.setItem("scrollTop",document.body.scrollTop),a()},methods:{changeDate:function(t){var e=t.target.value.replace(/-/g,"");e&&this.$router.push("date?dtime="+e)},previousDay:function(){this.$store.state.loadingDay||(this.$store.state.date=new c.default(this.$store.state.date).before(),d.fetchHistory(this.$store,this.$store.state.date))}}}},66:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.router=e.app=void 0;var s=a(22),i=n(s),r=a(1),o=n(r),u=a(24),l=n(u),c=a(21),d=n(c),f=a(25),h=a(20),v=n(h),m=a(23),p=n(m),_=a(19),y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(_);o.default.config.productionTip=!1,o.default.config.debug=!0,(0,i.default)(y).forEach(function(t){o.default.filter(t,y[t])}),o.default.use(p.default),(0,f.sync)(d.default,v.default);var b=new o.default({el:"#app",name:"app",router:v.default,store:d.default,render:function(t){return t(l.default)}});e.app=b,e.router=v.default,e.store=d.default},67:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchComment=e.fetchArticle=e.fetchHistory=e.fetchLatest=void 0;var n=a(34),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.fetchLatest=function(){return s.default.get("/latest")},e.fetchHistory=function(t){return s.default.get("/day/"+t)},e.fetchArticle=function(t){return s.default.get("/article/"+t)},e.fetchComment=function(t){return s.default.get("/article/"+t+"/comments")}},81:function(t,e){},82:function(t,e){},83:function(t,e){},84:function(t,e){},88:function(t,e,a){a(81);var n=a(2)(a(64),a(90),"data-v-039bcdba",null);t.exports=n.exports},89:function(t,e,a){a(83);var n=a(2)(a(65),a(92),"data-v-4bc9eb14",null);t.exports=n.exports},9:function(t,e){function a(t,e,a){if(t)this.date=[t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(-2)].join("");else{var n=new Date;this.date=[n.getFullYear(),"-",n.getMonth()+1,"-",n.getDate()].join("")}this.bef=e||0,this.aft=a||0,this.weekDayArr=["Sun","Mon","Tues","Wen","Thur","Fri","Sat"],this.weekDayCNArr=["日","一","二","三","四","五","六"],this.monthArr=["00","01","02","03","04","05","06","07","08","09","10","11","12"],this.monthENArr=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}a.prototype={constructor:a,now:function(t){t&&(this.date=[t.substr(0,4),"-",t.substr(4,2),"-",t.substr(-2)].join(""));var e=this.date?new Date(this.date):new Date;return[e.getFullYear(),this._cover(e.getMonth()+1),this._cover(e.getDate())].join("")},before:function(t){return this._calc(t||1,"before")},beforeCN:function(t){return this.CN(this._calc(t||1,"before"))},after:function(t){return this._calc(t||1,"after")},afterCN:function(t){return this.CN(this._calc(t||1,"after"))},weekDay:function(t){t=t||this.now();var e=new Date([t.substr(0,4),"-",t.substr(4,2),"-",t.substr(-2)].join("")).getDay();return{day:e,en:this.weekDayArr[e],cn:this.weekDayCNArr[e]}},month:function(){var t=this.date?new Date(this.date):new Date;return[t.getFullYear(),this._cover(t.getMonth()+1)].join("")},monthEN:function(t){return t=t||this.now(),this.monthENArr[parseInt(t.substr(4,2))]},beforeMonth:function(){var t=parseInt(this.month().substr(0,4),10),e=this.month().substr(4,2),a=this.monthArr.indexOf(e);return 1==a?(e="12",t--):e=this.monthArr[a-1],t+""+e},afterMonth:function(){var t=parseInt(this.month().substr(0,4),10),e=this.month().substr(4,2),a=this.monthArr.indexOf(e);return 12==a?(e="01",t++):e=this.monthArr[a+1],t+""+e},CN:function(t){return t=t||this.now(),t.substr(0,4)+"年"+t.substr(4,2)+"月"+t.substr(6,2)+"日"},_calc:function(t,e){var a=new Date(this.date),n=0;"before"===e?(n=0-this.bef,t=0-t):n=this.aft;var s=t||n||0,i=new Date(a.getTime()+864e5*s);return[i.getFullYear(),this._cover(i.getMonth()+1),this._cover(i.getDate())].join("")},_cover:function(t){var e=parseInt(t,10);return e<10?"0"+e:e}},t.exports=a},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"history"},[t.data.month?a("div",{staticClass:"date"},[a("span",[a("i",{staticClass:"m"},[t._v(t._s(t.data.month.substr(0,3)))]),a("i",{staticClass:"d"},[t._v(t._s(t.data.month.substr(3,2)))])])]):t._e(),t._v(" "),a("ul",t._l(t.data.latest,function(e){return a("li",[a("router-link",{attrs:{to:{path:"detail",query:{aid:e.id}}}},[a("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.image,expression:"item.image",arg:"background-image"}],staticClass:"img"}),t._v(" "),a("p",{staticClass:"sns"},[a("i",{class:e.popularity>500&&"hot"},[t._v(t._s(e.popularity||0)+" likes")]),t._v(" |\n                    "),a("i",[t._v(t._s(e.comments||0)+" comments")])])])],1)}))])},staticRenderFns:[]}},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("section",{staticClass:"content-wrap"},[a("div",{staticClass:"container"},[a("div",{staticClass:"col-sm-8"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticClass:"view"})],1)],1),t._v(" "),t._m(2)])]),t._v(" "),a("a",{attrs:{href:"#",id:"back-to-top"},on:{click:t.up}},[a("i",{staticClass:"fa"},[t._v("↑")])]),t._v("s\n")])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"main-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("h1",[t._v("智慧比财富更有价值")]),t._v(" "),a("h2",[t._v("WISDOM OUTWEIGHS ANY WEALTH.")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"main-navigation"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{attrs:{id:"main-menu"}},[a("ul",{staticClass:"menu"},[a("li",{staticClass:"nav-current",attrs:{role:"presentation"}},[a("a",{attrs:{href:"/",target:"_self"}},[t._v("首页")])]),t._v(" "),a("li",{attrs:{role:"presentation"}},[a("a",{attrs:{href:"/statis",target:"_self"}},[t._v("数据统计")])]),t._v(" "),a("li",{attrs:{role:"presentation"}},[a("a",{attrs:{href:"/about",target:"_self"}},[t._v("关于")])])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-4 sidebar"},[a("div",{staticClass:"widget"},[a("h4",{staticClass:"title"},[t._v("历史文章")]),t._v(" "),a("div",{staticClass:"content community"},[a("p",{staticClass:"control-label"},[t._v("Date Picking")]),t._v(" "),a("div",{staticClass:"input-group date form_date",attrs:{"data-date":"","data-date-format":"yyyy-mm-dd","data-link-field":"dtp_input2","data-link-format":"yyyy-mm-dd"}},[a("input",{staticClass:"form-control",attrs:{size:"16",type:"text",value:"2017-05-01",readonly:""}}),t._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"icon date-close glyphicon glyphicon-remove"})]),t._v(" "),a("span",{staticClass:"input-group-addon"},[a("span",{staticClass:"icon date-pic glyphicon glyphicon-calendar"})])]),t._v(" "),a("input",{attrs:{type:"hidden",id:"dtp_input2",value:""}}),a("br"),t._v(" "),a("button",{staticClass:"btn btn-default btn-block",attrs:{id:"day-pic"}},[t._v("See the article")])])]),t._v(" "),a("div",{staticClass:"widget"},[a("h4",{staticClass:"title"},[t._v("代码仓库")]),t._v(" "),a("div",{staticClass:"content community"},[a("p",[t._v("Power by Vue & Node")]),t._v(" "),a("a",{staticClass:"btn btn-default btn-block",attrs:{href:"https://github.com/Huihuawk/dailyVue"}},[t._v("View on Github")])])])])}]}},92:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("Latest",{attrs:{data:t.latest}}),t._v(" "),t._l(this.$store.state.day,function(t){return[a("History",{attrs:{day:t}})]}),t._v(" "),t._m(0)],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",{staticClass:"loading"},[a("span",[t._v("Previous Day")])])}]}},93:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"history"},[t.day.month?a("div",{staticClass:"date"},[a("span",[a("i",{staticClass:"m"},[t._v(t._s(t.day.month.substr(0,3)))]),a("i",{staticClass:"d"},[t._v(t._s(t.day.month.substr(3,2)))])]),t._v(" "),t.view?a("router-link",{staticClass:"day-link",attrs:{to:{path:"/the-day",query:{dtime:t.dtime}}}},[a("small",[t._v(t._s(t.day.date))])]):a("router-link",{staticClass:"day-link",attrs:{to:{path:"/the-day",query:{dtime:t.day.data[0].dtime}}}},[a("small",[t._v(t._s(t.day.date))])])],1):t._e(),t._v(" "),a("ul",t._l(t.day.data,function(e){return a("li",[a("router-link",{attrs:{to:{path:"detail",query:{aid:e.id}}}},[a("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),t.view?a("img",{attrs:{src:e.image}}):a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}]}),t._v(" "),a("p",{staticClass:"sns"},[a("i",{class:e.popularity>500&&"hot"},[t._v(t._s(e.popularity)+" likes")]),t._v(" |\n                    "),a("i",[t._v(t._s(e.comments)+" comments")])])])],1)}))])},staticRenderFns:[]}}},[66]);